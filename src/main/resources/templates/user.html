<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<span th:replace="includes :: links"></span>
	
	<title th:if="${currentPage == 'account'}">Account</title>
	<title th:if="${currentPage == 'resetPassword'}">Reset Password</title>

</head>

<body>
	
	<span th:replace="includes :: header"></span>
	
	<div th:if="${currentPage == 'account'}" class="container mt-3">
		<div class="m-auto bg-white border border-light p-lg-5 form-size rounded">
		
		<div class="form-group">
			<p class="h1-responsive text-center text-primary">Account</p>
		</div>
      	<hr>
      	<div class="form-group mb-2">
      		<label for="username">Username</h5>
      		<p id="username" class="h3-responsive" th:text="${user.username}"></p>
      	</div>      	
      	
      	<div class="form-group mb-2">
	      	<label for="email">Email</label>
	      	<p id="username" class="h3-responsive" th:text="${user.email}"></p>
      	</div>
      	
      	
     	<input class="btn purple-gradient w-100 mr-2" type="button" value="Change Password" onclick="location.href='/user/account/resetPassword'">
      	
      	</div>
   	</div>
   	
   	<form th:if="${currentPage == 'resetPassword'}" th:action="@{/user/account/resetPassword}" method="post" class="container-fluid mt-3">
   		<div class="border border-light p-5 form-size m-auto bg-white">
		    <p class="h4 mb-5 text-center">Reset Password</p>
		
			<input class="form-control mb-4" type="email" placeholder="Email Address" th:value="${email}" required disabled="disabled">
		
			<input name="password" class="form-control mb-4" type="password" placeholder="Password" pattern=".{3,15}" title="* Three or more characters. * Not more than 15 characters allowed." required>	   
			
			<div class="text-center mb-4" th:if="${param.success}">
	      		<p class="alert alert-success">Password changed Successfully.<br><a href="/login" class="text-primary"><u>Please Login</u></a></p>
	      	</div>
	      	<div class="text-center mb-4" th:if="${param.failed}">
	      		<p class="alert alert-danger">Couldn't change password.</p>
	      	</div>
			
			<input class="btn btn-info btn-block my-4" type="submit" value="Submit">
		
			<a href="."><i class="fa fa-arrow-left"></i> Back</a>
	    </div>
	</form>
    
</body>
</html>